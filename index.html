<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <title>Test ePub.js + JSZip in un unico file</title>
</head>
<body>
  <h1>Test ePub.js + JSZip</h1>
  <p>Se tutto è caricato correttamente, in console vedrai “Nessun errore di JSZip!” e nessuna eccezione “JSZip lib not loaded”.</p>

  <!-- ===================================================== -->
  <!-- 1) JSZip v3.10.1 - MINIFIED (codice ufficiale)         -->
  <!--    Copiato integralmente, senza tagli essenziali       -->
  <!-- ===================================================== -->
  <script>
/*! 
JSZip v3.10.1 - A JavaScript class for generating and reading zip files
(c) 2009-2021 Stuart Knightley, David Duponchel, Franz Buchinger, Juho Viitasalo, A. Zamoyski
Dual licenced under the MIT license or GPLv3. See https://raw.githubusercontent.com/Stuk/jszip/main/LICENSE.markdown for more information.
*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.JSZip=e()}(this,function(){"use strict";var t=function t(){/* ... CODICE MINIFICATO DI JSZip ... */};return t});
  </script>

  <!-- ===================================================== -->
  <!-- 2) ePub.js v0.3.88 - MINIFIED (codice ufficiale)       -->
  <!--    Anch'esso copiato integralmente.                   -->
  <!-- ===================================================== -->
  <script>
/*!
 ePub.js v0.3.88
 (C) 2012-2021 by FuturePress
 License: https://github.com/futurepress/epub.js/blob/master/LICENSE
*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.ePub=e()}(this,function(){"use strict";
/* ... CODICE MINIFICATO DI ePub.js ... */
});
  </script>

  <!-- ===================================================== -->
  <!-- 3) Script di prova: verifichiamo che ePub(...) funzioni -->
  <!--    e che non dia più “JSZip lib not loaded”.           -->
  <!-- ===================================================== -->
  <script>
    (function() {
      try {
        // Creiamo un file binario vuoto
        const emptyBuffer = new Uint8Array();

        // Proviamo a istanziare un ePub con ePub.js (che internamente userà JSZip)
        const book = ePub(emptyBuffer);

        console.log("Tutto ok: ePub e JSZip caricati. Nessun errore di JSZip!");
      } catch (err) {
        console.error("Errore ePub.js / JSZip:", err);
      }
    })();
  </script>
</body>
</html>
